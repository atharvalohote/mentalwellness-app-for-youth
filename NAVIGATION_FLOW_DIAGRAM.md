# SanityAI - Navigation Flow Diagrams

## ğŸ”„ Main App Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   App Start     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Font Loading   â”‚
â”‚   (Nunito)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AppNavigator    â”‚
â”‚ Check Auth      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Auth?   â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   No    â”‚        â”‚     Yes      â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                    â”‚
         â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AppLockScreen   â”‚  â”‚  HomeScreen     â”‚
â”‚                 â”‚  â”‚                 â”‚
â”‚ â€¢ PIN Setup     â”‚  â”‚ â€¢ Mood Select   â”‚
â”‚ â€¢ PIN Verify    â”‚  â”‚ â€¢ Action Buttonsâ”‚
â”‚ â€¢ Biometric     â”‚  â”‚ â€¢ Quick Actions â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                    â”‚
          â”‚                    â”‚
          â–¼                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚   onUnlock()    â”‚            â”‚
â”‚                 â”‚            â”‚
â”‚ isAuthenticated â”‚            â”‚
â”‚    = true       â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
          â”‚                    â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  HomeScreen     â”‚
            â”‚                 â”‚
            â”‚ â€¢ Welcome Msg   â”‚
            â”‚ â€¢ 8 Mood Cards  â”‚
            â”‚ â€¢ Talk/Express  â”‚
            â”‚ â€¢ SOS Info      â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ navigation.navigate('Chat', {mood, context})
                      â”‚
                      â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  ChatScreen     â”‚
            â”‚                 â”‚
            â”‚ â€¢ AI Chat       â”‚
            â”‚ â€¢ Message Hist  â”‚
            â”‚ â€¢ Typing Anim   â”‚
            â”‚ â€¢ SOS Button    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ navigation.goBack()
                      â”‚
                      â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  HomeScreen     â”‚
            â”‚   (Return)      â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ App Launch      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Check AsyncStorageâ”‚
â”‚   'app_pin'     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ PIN     â”‚
    â”‚ Exists? â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   No    â”‚        â”‚     Yes      â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                    â”‚
         â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   New User      â”‚  â”‚ Returning User  â”‚
â”‚                 â”‚  â”‚                 â”‚
â”‚ isSettingUp     â”‚  â”‚ isSettingUp     â”‚
â”‚    = true       â”‚  â”‚    = false      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                    â”‚
          â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PIN Setup Flow  â”‚  â”‚ PIN Verify Flow â”‚
â”‚                 â”‚  â”‚                 â”‚
â”‚ 1. Enter PIN    â”‚  â”‚ 1. Enter PIN    â”‚
â”‚ 2. Confirm PIN  â”‚  â”‚ 2. Verify PIN   â”‚
â”‚ 3. Store PIN    â”‚  â”‚ 3. Unlock App   â”‚
â”‚ 4. Unlock App   â”‚  â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                    â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   HomeScreen    â”‚
            â”‚   (Unlocked)    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ  HomeScreen User Journey

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HomeScreen     â”‚
â”‚                 â”‚
â”‚ "Welcome back!" â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Mood Selection â”‚
â”‚                 â”‚
â”‚ ğŸ˜Š ğŸ˜” ğŸ˜° ğŸ˜´    â”‚
â”‚ ğŸ˜¤ ğŸ˜Œ ğŸ¤© ğŸ˜Œ    â”‚
â”‚                 â”‚
â”‚ 8 Animated Cardsâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Mood    â”‚
    â”‚Selected?â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   No    â”‚        â”‚     Yes      â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                    â”‚
         â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Action Buttons  â”‚  â”‚ Action Buttons  â”‚
â”‚                 â”‚  â”‚                 â”‚
â”‚ â€¢ Talk (disabled)â”‚  â”‚ â€¢ Talk (enabled)â”‚
â”‚ â€¢ Express (disabled)â”‚ â”‚ â€¢ Express (enabled)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Action Selected â”‚
                    â”‚                 â”‚
                    â”‚ â€¢ Talk about it â”‚
                    â”‚ â€¢ Express it    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ navigation.navigate('Chat', {mood, context})
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  ChatScreen     â”‚
                    â”‚                 â”‚
                    â”‚ â€¢ Welcome Msg   â”‚
                    â”‚ â€¢ AI Chat       â”‚
                    â”‚ â€¢ Message Input â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ’¬ ChatScreen User Journey

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ChatScreen     â”‚
â”‚                 â”‚
â”‚ â€¢ Header        â”‚
â”‚ â€¢ Messages      â”‚
â”‚ â€¢ Input Area    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Welcome Message â”‚
â”‚                 â”‚
â”‚ Based on mood   â”‚
â”‚ and context     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Types      â”‚
â”‚ Message         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Send Message    â”‚
â”‚                 â”‚
â”‚ â€¢ Animate Buttonâ”‚
â”‚ â€¢ Add to Chat   â”‚
â”‚ â€¢ Show Typing   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AI Processing   â”‚
â”‚                 â”‚
â”‚ â€¢ Typing Dots   â”‚
â”‚ â€¢ Google AI     â”‚
â”‚ â€¢ Generate Resp â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AI Response     â”‚
â”‚                 â”‚
â”‚ â€¢ Stop Typing   â”‚
â”‚ â€¢ Add Message   â”‚
â”‚ â€¢ Animate In    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Continue Chat   â”‚
â”‚                 â”‚
â”‚ â€¢ More Messages â”‚
â”‚ â€¢ Back to Home  â”‚
â”‚ â€¢ SOS Access    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ Animation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Interactionâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Trigger Animationâ”‚
â”‚                 â”‚
â”‚ â€¢ Button Press  â”‚
â”‚ â€¢ Mood Select   â”‚
â”‚ â€¢ Message Send  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Animation Types â”‚
â”‚                 â”‚
â”‚ â€¢ Scale         â”‚
â”‚ â€¢ Rotation      â”‚
â”‚ â€¢ Pulse         â”‚
â”‚ â€¢ Fade          â”‚
â”‚ â€¢ Slide         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Native Driver   â”‚
â”‚                 â”‚
â”‚ â€¢ 60fps         â”‚
â”‚ â€¢ Smooth        â”‚
â”‚ â€¢ Performant    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Input      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ React State     â”‚
â”‚                 â”‚
â”‚ â€¢ useState      â”‚
â”‚ â€¢ useEffect     â”‚
â”‚ â€¢ useRef        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AsyncStorage    â”‚
â”‚                 â”‚
â”‚ â€¢ PIN Storage   â”‚
â”‚ â€¢ Persistence   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Google AI API   â”‚
â”‚                 â”‚
â”‚ â€¢ Gemini Model  â”‚
â”‚ â€¢ Context Aware â”‚
â”‚ â€¢ Response Gen  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UI Update       â”‚
â”‚                 â”‚
â”‚ â€¢ Message Add   â”‚
â”‚ â€¢ Animation     â”‚
â”‚ â€¢ State Update  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ Feature Expansion Map

```
Current App
â”œâ”€â”€ Authentication
â”‚   â”œâ”€â”€ PIN Setup âœ…
â”‚   â”œâ”€â”€ PIN Verify âœ…
â”‚   â””â”€â”€ Biometric (placeholder)
â”œâ”€â”€ Mood Selection
â”‚   â”œâ”€â”€ 8 Moods âœ…
â”‚   â”œâ”€â”€ Animations âœ…
â”‚   â””â”€â”€ Color Coding âœ…
â”œâ”€â”€ AI Chat
â”‚   â”œâ”€â”€ Google Gemini âœ…
â”‚   â”œâ”€â”€ Context Aware âœ…
â”‚   â””â”€â”€ Animated UI âœ…
â””â”€â”€ Navigation
    â”œâ”€â”€ Stack Navigator âœ…
    â””â”€â”€ Conditional Auth âœ…

Potential Additions
â”œâ”€â”€ Profile Management
â”‚   â”œâ”€â”€ User Settings
â”‚   â”œâ”€â”€ Preferences
â”‚   â””â”€â”€ Avatar
â”œâ”€â”€ Mood Tracking
â”‚   â”œâ”€â”€ History
â”‚   â”œâ”€â”€ Trends
â”‚   â””â”€â”€ Analytics
â”œâ”€â”€ Enhanced Chat
â”‚   â”œâ”€â”€ Message History
â”‚   â”œâ”€â”€ Export Chat
â”‚   â””â”€â”€ Chat Themes
â”œâ”€â”€ Additional Screens
â”‚   â”œâ”€â”€ Onboarding
â”‚   â”œâ”€â”€ Settings
â”‚   â”œâ”€â”€ History
â”‚   â””â”€â”€ Emergency
â”œâ”€â”€ Advanced Features
â”‚   â”œâ”€â”€ Push Notifications
â”‚   â”œâ”€â”€ Offline Mode
â”‚   â”œâ”€â”€ Dark Mode
â”‚   â””â”€â”€ Accessibility
â””â”€â”€ Navigation Enhancements
    â”œâ”€â”€ Tab Navigator
    â”œâ”€â”€ Drawer Navigator
    â””â”€â”€ Deep Linking
```

This comprehensive documentation provides a complete overview of the current app structure and serves as a roadmap for future development and feature additions.
